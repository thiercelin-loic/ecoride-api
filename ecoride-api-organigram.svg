<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients for modern look -->
    <linearGradient id="appGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#2196F3;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1976D2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="authGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#F44336;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#D32F2F;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="dbGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#388E3C;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="apiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#FF9800;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#F57C00;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="entityGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#9C27B0;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7B1FA2;stop-opacity:1" />
    </linearGradient>
    
    <!-- Shadow filter -->
    <filter id="dropShadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="4" stdDeviation="3" flood-color="#000000" flood-opacity="0.2"/>
    </filter>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
    </marker>
    
    <!-- Relationship arrow marker -->
    <marker id="relationArrow" markerWidth="8" markerHeight="6" 
            refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#9E9E9E" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#FAFAFA"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#263238">
    EcoRide API - System Architecture
  </text>
  
  <!-- Subtitle -->
  <text x="700" y="55" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#546E7A">
    Modular NestJS Architecture with TypeORM Database Layer
  </text>
  
  <!-- Main App Module -->
  <rect x="600" y="80" width="200" height="80" rx="10" fill="url(#appGradient)" filter="url(#dropShadow)"/>
  <text x="700" y="110" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">ğŸ  AppModule</text>
  <text x="700" y="130" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Main Application</text>
  <text x="700" y="145" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">Orchestrator</text>
  
  <!-- Core Modules Layer -->
  <text x="100" y="220" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#37474F">Core Infrastructure</text>
  
  <!-- Auth Module -->
  <rect x="50" y="240" width="160" height="70" rx="8" fill="url(#authGradient)" filter="url(#dropShadow)"/>
  <text x="130" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ğŸ” AuthModule</text>
  <text x="130" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">JWT Authentication</text>
  <text x="130" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Role-based Access</text>
  
  <!-- Database Module -->
  <rect x="230" y="240" width="160" height="70" rx="8" fill="url(#dbGradient)" filter="url(#dropShadow)"/>
  <text x="310" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">ğŸ—„ï¸ DatabaseModule</text>
  <text x="310" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">TypeORM</text>
  <text x="310" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Entity Management</text>
  
  <!-- Config Module -->
  <rect x="410" y="240" width="160" height="70" rx="8" fill="url(#dbGradient)" filter="url(#dropShadow)"/>
  <text x="490" y="265" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">âš™ï¸ ConfigModule</text>
  <text x="490" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Environment</text>
  <text x="490" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="white">Configuration</text>
  
  <!-- API Modules Layer -->
  <text x="700" y="390" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#37474F">Business Logic Layer</text>
  
  <!-- Search Module -->
  <rect x="620" y="410" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="690" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ğŸ” SearchModule</text>
  <text x="690" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Trip Search</text>
  <text x="690" y="462" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">& Filtering</text>
  
  <!-- Users Module -->
  <rect x="780" y="410" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="850" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ğŸ‘¤ UsersModule</text>
  <text x="850" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Profile</text>
  <text x="850" y="462" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Management</text>
  
  <!-- Cars Module -->
  <rect x="940" y="410" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="1010" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ğŸš— CarsModule</text>
  <text x="1010" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Vehicle</text>
  <text x="1010" y="462" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Management</text>
  
  <!-- Codriving Module -->
  <rect x="1100" y="410" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="1170" y="435" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ğŸš™ CodrivingModule</text>
  <text x="1170" y="450" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Trip</text>
  <text x="1170" y="462" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Management</text>
  
  <!-- Booking Module -->
  <rect x="700" y="490" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="770" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">ğŸ“… BookingModule</text>
  <text x="770" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Reservation</text>
  <text x="770" y="542" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">System</text>
  
  <!-- Reviews Module -->
  <rect x="860" y="490" width="140" height="60" rx="8" fill="url(#apiGradient)" filter="url(#dropShadow)"/>
  <text x="930" y="515" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">â­ ReviewsModule</text>
  <text x="930" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">Rating</text>
  <text x="930" y="542" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="white">System</text>
  
  <!-- Data Layer -->
  <text x="100" y="620" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#37474F">Data Persistence Layer</text>
  
  <!-- Entities -->
  <!-- User Entity -->
  <rect x="50" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="110" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸ‘¥ User Entity</text>
  <text x="110" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Users Table</text>
  
  <!-- Car Entity -->
  <rect x="190" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="250" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸš— Car Entity</text>
  <text x="250" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Cars Table</text>
  
  <!-- Brand Entity -->
  <rect x="330" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="390" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸ·ï¸ Brand Entity</text>
  <text x="390" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Brands Table</text>
  
  <!-- Codriving Entity -->
  <rect x="470" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="530" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸš™ Trip Entity</text>
  <text x="530" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Trips Table</text>
  
  <!-- Booking Entity -->
  <rect x="610" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="670" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸ“… Booking Entity</text>
  <text x="670" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Bookings Table</text>
  
  <!-- Review Entity -->
  <rect x="750" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="810" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">â­ Review Entity</text>
  <text x="810" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Reviews Table</text>
  
  <!-- Configuration Entity -->
  <rect x="890" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="950" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">âš™ï¸ Config Entity</text>
  <text x="950" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Config Table</text>
  
  <!-- Parameters Entity -->
  <rect x="1030" y="640" width="120" height="50" rx="6" fill="url(#entityGradient)" filter="url(#dropShadow)"/>
  <text x="1090" y="660" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">ğŸ“Š Params Entity</text>
  <text x="1090" y="675" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="white">Parameters Table</text>
  
  <!-- Connection Lines from AppModule to Core Modules -->
  <line x1="650" y1="160" x2="130" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="700" y1="160" x2="310" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="160" x2="490" y2="240" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Connection Lines from AppModule to API Modules -->
  <line x1="690" y1="160" x2="690" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="720" y1="160" x2="850" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="750" y1="160" x2="1010" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="780" y1="160" x2="1170" y2="410" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="710" y1="160" x2="770" y2="490" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="730" y1="160" x2="930" y2="490" stroke="#666" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Connection Lines from DatabaseModule to Entities -->
  <line x1="310" y1="310" x2="110" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="310" y1="310" x2="250" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="310" y1="310" x2="390" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="310" y1="310" x2="530" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="310" y1="310" x2="670" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="310" y1="310" x2="810" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="450" y1="310" x2="950" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="450" y1="310" x2="1090" y2="640" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Entity Relationships -->
  <path d="M 170 665 Q 200 700 220 665" stroke="#9E9E9E" stroke-width="1.5" fill="none" marker-end="url(#relationArrow)"/>
  <text x="195" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">1:N</text>
  
  <path d="M 310 665 Q 340 700 360 665" stroke="#9E9E9E" stroke-width="1.5" fill="none" marker-end="url(#relationArrow)"/>
  <text x="335" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">N:1</text>
  
  <path d="M 590 665 Q 620 700 640 665" stroke="#9E9E9E" stroke-width="1.5" fill="none" marker-end="url(#relationArrow)"/>
  <text x="615" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">1:N</text>
  
  <path d="M 730 665 Q 760 700 780 665" stroke="#9E9E9E" stroke-width="1.5" fill="none" marker-end="url(#relationArrow)"/>
  <text x="755" y="710" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#666">1:N</text>
  
  <!-- Technology Stack Info -->
  <rect x="50" y="750" width="300" height="200" rx="10" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#dropShadow)"/>
  <text x="200" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#263238">Technology Stack</text>
  
  <text x="70" y="800" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Framework:</text>
  <text x="150" y="800" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">NestJS (Node.js)</text>
  
  <text x="70" y="820" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Database ORM:</text>
  <text x="160" y="820" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">TypeORM</text>
  
  <text x="70" y="840" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Authentication:</text>
  <text x="165" y="840" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">JWT Tokens</text>
  
  <text x="70" y="860" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Documentation:</text>
  <text x="165" y="860" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">Swagger/OpenAPI</text>
  
  <text x="70" y="880" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Testing:</text>
  <text x="120" y="880" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">Jest</text>
  
  <text x="70" y="900" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Language:</text>
  <text x="135" y="900" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">TypeScript</text>
  
  <text x="70" y="920" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#37474F">Architecture:</text>
  <text x="155" y="920" font-family="Arial, sans-serif" font-size="11" fill="#546E7A">Modular, Scalable</text>
  
  <!-- Security Features -->
  <rect x="380" y="750" width="280" height="200" rx="10" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#dropShadow)"/>
  <text x="520" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#263238">Security Features</text>
  
  <text x="400" y="800" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ” JWT-based Authentication</text>
  <text x="400" y="820" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ›¡ï¸ Role-based Access Control (RBAC)</text>
  <text x="400" y="840" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ”’ Password Hashing (bcrypt)</text>
  <text x="400" y="860" font-family="Arial, sans-serif" font-size="11" fill="#37474F">âœ… Input Validation & Sanitization</text>
  <text x="400" y="880" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸŒ CORS Configuration</text>
  <text x="400" y="900" font-family="Arial, sans-serif" font-size="11" fill="#37474F">â±ï¸ Rate Limiting</text>
  <text x="400" y="920" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ” Request Logging & Monitoring</text>
  
  <!-- API Endpoints Overview -->
  <rect x="690" y="750" width="320" height="200" rx="10" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#dropShadow)"/>
  <text x="850" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#263238">Core API Endpoints</text>
  
  <text x="710" y="800" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">Authentication:</text>
  <text x="810" y="800" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/auth/login, /auth/register</text>
  
  <text x="710" y="820" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">User Management:</text>
  <text x="820" y="820" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/users/profile, /users/:id</text>
  
  <text x="710" y="840" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">Vehicle Management:</text>
  <text x="830" y="840" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/cars (CRUD operations)</text>
  
  <text x="710" y="860" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">Trip Management:</text>
  <text x="810" y="860" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/codriving (CRUD operations)</text>
  
  <text x="710" y="880" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">Search:</text>
  <text x="750" y="880" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/search/trips, /search/users</text>
  
  <text x="710" y="900" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#37474F">Bookings:</text>
  <text x="770" y="900" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/bookings (CRUD operations)</text>
  
  <text x="710" y="920" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#546E7A">Reviews:</text>
  <text x="760" y="920" font-family="Arial, sans-serif" font-size="10" fill="#546E7A">/reviews (CRUD operations)</text>
  
  <!-- Key Features -->
  <rect x="1040" y="750" width="310" height="200" rx="10" fill="#FFFFFF" stroke="#E0E0E0" stroke-width="1" filter="url(#dropShadow)"/>
  <text x="1195" y="775" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#263238">EcoRide Features</text>
  
  <text x="1060" y="800" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸŒ Eco-friendly Carpooling Platform</text>
  <text x="1060" y="820" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ” Advanced Trip Search & Filtering</text>
  <text x="1060" y="840" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸš— Vehicle Registration & Management</text>
  <text x="1060" y="860" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ“… Real-time Booking System</text>
  <text x="1060" y="880" font-family="Arial, sans-serif" font-size="11" fill="#37474F">â­ Driver & Passenger Rating System</text>
  <text x="1060" y="900" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ‘¥ User Profile Management</text>
  <text x="1060" y="920" font-family="Arial, sans-serif" font-size="11" fill="#37474F">ğŸ’° Dynamic Pricing System</text>
  
  <!-- Footer -->
  <text x="700" y="980" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#9E9E9E">
    EcoRide API Organizational Diagram - Generated July 16, 2025
  </text>
</svg>
